<h2>楽譜新規登録</h2>

<%= form_with model: [:admin, @score] do |f| %>
  <% if @score.errors.any? %>
    <%= @score.errors.count %>件のエラーが発生しました
  <% end %>
  
  <table>
    <tr>
      <th><%= f.label :score_image, "画像" %></th>
      <td><%= f.file_field :score_image, accept: "image/*" %></td>
    </tr>
    <tr>
      <th><%= f.label :score_name, "楽譜名" %></th>
      <td>
        <%= f.text_field :score_name, :placeholder => "楽譜名", size: 50 %>
        <% if @score.errors.include?(:score_name) %>
          <p style="color: red;"><%= @score.errors.full_messages_for(:score_name).first %>
        <% end %>
      </td>
    </tr>
    <tr>
      <th><%= f.label :score_caption, "楽譜説明" %></th>
      <td>
        <%= f.text_area :score_caption, :placeholder => "ここに説明文を記述します", size: "50x5" %>
        <% if @score.errors.include?(:score_caption) %>
          <p style="color: red;"><%= @score.errors.full_messages_for(:score_caption).first %>
        <% end %>
      </td>
    </tr>
    <tr>
      <th><%= f.label :genre_id, "ジャンル" %></th>
      <td>
        <%= f.collection_select :genre_id, Genre.all, :id, :genre_name, {include_blank: "~選択してください~"} %>
        <% if @score.errors.include?(:genre_id) %>
          <p style="color: red;"><%= @score.errors.full_messages_for(:genre_id).first %>
        <% end %>
      </td>
    </tr>
    <tr>
      <th><%= f.label :without_tax, "税抜価格" %></th>
      <td>
        <%= f.text_field :without_tax, :placeholder => "300" %>円
        <% if @score.errors.include?(:without_tax) %>
          <p style="color: red;"><%= @score.errors.full_messages_for(:without_tax).first %>
        <% end %>
      </td>
    </tr>
  </table>
  <%= f.submit "新規登録" %>
<% end %>